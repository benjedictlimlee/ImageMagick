#!/bin/bash -eu

clang++ -ldl -O1 -fno-omit-frame-pointer -gline-tables-only -Wno-error=enum-constexpr-conversion -Wno-error=incompatible-function-pointer-types -Wno-error=int-conversion -Wno-error=deprecated-declarations -Wno-error=implicit-function-declaration -Wno-error=implicit-int -Wno-error=vla-cxx-extension -Wno-error=unknown-warning-option -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -stdlib=libc++ -fuse-ld=lld -DMAGICKCORE_HDRI_ENABLE=1 -DMAGICKCORE_QUANTUM_DEPTH=16 -std=c++11 -I/work/include/ImageMagick-7 /src/imagemagick/oss-fuzz/encoder_fuzzer2.cc -o /out/encoder_miff_fuzzer -DFUZZ_IMAGEMAGICK_ENCODER=MIFF -DFUZZ_IMAGEMAGICK_ENCODER_WRITE=1 /work/lib/libMagick++-7.Q16HDRI.a /work/lib/libMagickWand-7.Q16HDRI.a /work/lib/libMagickCore-7.Q16HDRI.a /work/lib/libpng.a /work/lib/libtiff.a /work/lib/libheif.a /work/lib/libde265.a /work/lib/libopenjp2.a /work/lib/libwebp.a /work/lib/libwebpmux.a /work/lib/libwebpdemux.a /work/lib/libsharpyuv.a /work/lib/libhwy.a /work/lib/libbrotlicommon.a /work/lib/libbrotlidec.a /work/lib/libbrotlienc.a /work/lib/libjxl_threads.a /work/lib/libjxl_cms.a /work/lib/libjxl.a /work/lib/libturbojpeg.a /work/lib/libjpeg.a /work/lib/libfreetype.a /work/lib/libraw.a /work/lib/liblzma.a /work/lib/liblcms2.a /work/lib/libdeflate.a /work/lib/libz.a /usr/local/lib/clang/18/lib/x86_64-unknown-linux-gnu/libclang_rt.fuzzer.a /usr/local/lib/clang/18/lib/x86_64-unknown-linux-gnu/libclang_rt.asan.a
